## Instructions for Open Image Pipeline plugin development.

This directory (plugindev) contains files to help in setting
up a plugin development environment. The very first thing you
should do is to make a copy of the `plugindev` directory so
that you're not modifying the original one. You can also give
the directory a more descriptive name since it's the place where
all of the plugin development happens.

#### 1. Directory layout setup

There are already some files in place in the `plugindev` directory
but you must change some things before you can start programming your
very own OIP plugin. First of all, if you're using GIT for version
control, you should probably create a `.gitignore` file with at least
the following lines.

`bin`  
`build-config`

This applies to other version control systems too, of course, but I
have no idea how they handle ignoring files. `build-config` is a file
that's generated by `config-build-env.sh` and it's only needed by
you because it contains paths specific to your computer. `bin` is
the directory where compiled binaries are put, so you probably don't
want those in your VCS.

By default the makefile compiles the plugin from files located in
a directory called `src`. You'll have to create this directory yourself.

#### 2. Modifying the project configuration

Open the `project-config` file in your favourite text editor. In this file
you can edit the configuration of your plugin project. Currently the only
tested modification you can do is to give your plugin a name by setting
the variable `NAME` to something more unique. The `project-config` file is
basically a makefile so you'll have to use the makefile syntax too.

#### 3. Compiling Open Image Pipeline

In order to compile OIP plugins you'll have to compile the main OIP binary
aswell. Check the instructions in the README.md file in the source root
of the main OIP repo.

#### 4. Final setup steps

Now you're almost ready to start programming away. You just need to
run the shell script `config-build-env.sh`. After answering the questions
the script has asked you, you can create your source files in the `src`
directory and once you are ready to compile the plugin, just run `make`. By
running `make install` too, you can automatically copy the plugin
file to the Open Image Pipeline plugins directory. If you wan't to enable
debug information generation and a memory address sanitizer while compiling,
you can pass `DEBUG=1` in the make command. Note that you won't be able
to load debug builds of plugins into the main OIP binary if the OIP binary is
not a debug build too.

#### NOTICE

When you make an Open Image Pipeline plugin, you'll most likely use
code and libraries from Open Image Pipeline and FreeImage. This means that
you'll have to use a compatible license for your plugin, provide a copy of
the GNU GPLv3 license (OIP is licensed under the GNU GPLv3 and FreeImage is
used under the GNU GPLv3 too) and write a note stating that your plugin uses the
FreeImage library and Open Image Pipeline libraries. See the FreeImage website
for further information on using FreeImage and the GNU GPLv3 license for details
on the license itself.
